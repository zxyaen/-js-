<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">
</head>

<body>
    <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <p>
        罗马数字包含以下七种字符: I， V， X， L，C，D 和 M。

        字符 数值
        I 1
        V 5
        X 10
        L 50
        C 100
        D 500
        M 1000
        例如， 罗马数字 2 写做 II ，即为两个并列的 1 。12 写做 XII ，即为 X + II 。 27 写做  XXVII, 即为 XX + V + II 。

        通常情况下，罗马数字中小的数字在大的数字的右边。但也存在特例，例如 4 不写做 IIII，而是 IV。数字 1 在数字 5 的左边，所表示的数等于大数 5 减小数 1 得到的数值 4 。同样地，数字 9
        表示为 IX。这个特殊的规则只适用于以下六种情况：

        I 可以放在 V (5) 和 X (10) 的左边，来表示 4 和 9。
        X 可以放在 L (50) 和 C (100) 的左边，来表示 40 和 90。 
        C 可以放在 D (500) 和 M (1000) 的左边，来表示 400 和 900。
        给定一个罗马数字，将其转换成整数。

    </p>

    <script>
        //思路，对比左右两个数字，若左边比右边小则减左边，若左边比右边大，则加左边
        // function getValue(chart) {
        //     switch (chart) {
        //         case 'I': return 1;
        //         case 'V': return 5;
        //         case 'X': return 10;
        //         case 'L': return 50;
        //         case 'C': return 100;
        //         case 'D': return 500;
        //         case 'M': return 1000;
        //             break;
        //     }
        // }
        function toNum(str) {
            let map =new Map([['I',1],['V',5],['X',10],['L',50],['C',100],['D',500],['M',1000]])
            let res = 0
            for (let i = 0; i < str.length; i++) {
                let left = map.get(str[i])
                let right = map.get(str[i+1])
                res += left < right ? -left : left
            }
            return res
        }
 

        console.log(toNum('III'));
        // function toNum(str) {
        //     let sum = 0
        //     let preNum = getValue(str.charAt(0)) //1000
        //     console.log(preNum);
        //     for (let i = 1; i < str.length; i++) {
        //         let num = getValue(str.charAt(i))  //1,5
        //         console.log(num);
        //         if (preNum < num) {
        //             sum = sum - preNum   //
        //         }
        //         else {
        //             sum = sum + preNum   //1000
        //         }
        //         preNum = num   //1
        //     }
        //     sum = sum + preNum  //1001
        //     console.log(sum);
        //     return sum
        // }
        // toNum('MIV')  //1000,-1,5
        // // console.log(toNum('IV'));

    </script>
</body>

</html>